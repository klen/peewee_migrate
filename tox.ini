[tox]
envlist={py27,py34,py36}-{peewee2,peewee3},cov

[pytest]
addopts = -sx

[pylama]
ignore=D,C0111,C1001,W0110,W0212,W0223,R

[pylama:tests/migrations/*.py]
ignore=W0611,W0612

[testenv]
commands=py.test []
deps =
    -rrequirements-tox.txt
    peewee2: peewee>=2.10,<3.0
    peewee3: peewee>=3.0.0

[testenv:cov]
deps =
    coverage
    {[testenv]deps}

commands =
    coverage run -m py.test
    coverage report
